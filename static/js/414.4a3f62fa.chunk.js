(self.webpackChunk_kne_components_scroll_loader=self.webpackChunk_kne_components_scroll_loader||[]).push([[414],{25764:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=25764,e.exports=t},69666:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(96210),r=a(16052),o=a(94530);const s={name:"scroll-loader",summary:'<h1>scroll-loader</h1>\n<h3>\u63cf\u8ff0</h3>\n<p>\u6eda\u52a8\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e</p>\n<h3>\u5b89\u88c5</h3>\n<pre><code class="language-shell">npm i --save @kne/scroll-loader\n</code></pre>',description:"\u6eda\u52a8\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e",packageName:"@kne/scroll-loader",api:"<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>",example:{isFull:!1,className:"scroll_loader_f2ee2",style:".scroll_loader_f2ee2 .scroll-list {\n  max-height: 300px;\n}",list:[{title:"scroll-loader",description:"\u6eda\u52a8\u5230\u5e95\u540e\u81ea\u52a8\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e",code:"const { get, merge, range } = lodash;\nconst { default: Fetch } = _reactFetch;\nconst { default: ScrollLoader } = _ScrollLoader;\n\nconst BaseExample = () => {\n  return (<Fetch\n    loader={({ data }) => {\n      const params = Object.assign({\n        perPage: 20, currentPage: 1\n      }, data);\n      return new Promise((resolve) => {\n        const start = (params.currentPage - 1) * params.perPage;\n        setTimeout(() => {\n          resolve({\n            totalCount: 100, pageData: range(start, start + params.perPage).map((key) => {\n              return {\n                label: `\u7b2c${key + 1}\u9879`, value: key + 1\n              };\n            })\n          });\n        }, 500);\n      });\n    }}\n    render={(fetchApi) => {\n      const pagination = {\n        paramsType: 'data', current: 'currentPage', pageSize: 'perPage', defaultPageSize: 20\n      };\n      const current = get(fetchApi.requestParams, [pagination.paramsType, pagination.current], 1),\n        pageSize = get(fetchApi.requestParams, [pagination.paramsType, pagination.pageSize]) || pagination.defaultPageSize;\n\n      const formatData = {\n        list: fetchApi.data.pageData, total: fetchApi.data.totalCount\n      };\n      return (<ScrollLoader\n        completeTips=\"\"\n        className=\"scroll-list\"\n        isLoading={!fetchApi.isComplete}\n        noMore={!formatData.total || current * pageSize >= formatData.total}\n        onLoader={async () => {\n          await fetchApi.loadMore(merge({\n            data: {\n              [pagination.pageSize]: pageSize, [pagination.current]: current + 1\n            }\n          }), (data, newData) => {\n            return Object.assign({}, newData, {\n              pageData: data.pageData.concat(newData.pageData)\n            });\n          });\n        }}\n      >\n        {formatData.list.map((item) => {\n          return <div key={item.value}>{item.label}</div>;\n        })}\n      </ScrollLoader>);\n    }}\n  />);\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"_ScrollLoader",packageName:"@kne/current-lib_scroll-loader",importStatement:'import * as _ScrollLoader from "@kne/scroll-loader"',component:n},{name:"_reactFetch",packageName:"@kne/react-fetch",component:r},{name:"lodash",packageName:"lodash",component:o}]}]}}},11448:(e,t,a)=>{"use strict";var n=a(94922),r=a.n(n),o=a(87558),s=a(55199),l=a(89946),c=a.n(l),p=a(13050),d=a(1488),i=a.n(d),m=a(89261);window.PUBLIC_URL="/scroll-loader";const u={remote:"components-core",url:"https://registry.npmmirror.com",tpl:"{{url}}/@kne-components%2f{{remote}}/{{version}}/files/build",defaultVersion:"0.1.10"};(0,p.preset)({remotes:{default:u,"components-core":u,"components-iconfont":{remote:"components-iconfont",url:"https://registry.npmmirror.com",tpl:"{{url}}/@kne-components%2f{{remote}}/{{version}}/files/build",defaultVersion:"0.1.3"}}});const g=(()=>{const e=c().create({validateStatus:function(){return!0}});return t=>t.hasOwnProperty("loader")&&"function"===typeof t.loader?Promise.resolve(t.loader(i()(t,["loader"]))).then((e=>({data:{code:0,data:e}}))).catch((e=>(s.message.error(e.message||"\u8bf7\u6c42\u53d1\u751f\u9519\u8bef"),{data:{code:500,msg:e.message}}))):e(t)})();(0,o.preset)({ajax:g,loading:(0,m.jsx)(s.Spin,{delay:500,style:{position:"absolute",left:"50%",padding:"10px",transform:"translateX(-50%)"}}),error:null,empty:(0,m.jsx)(s.Empty,{}),transformResponse:e=>{const{data:t}=e;return e.data={code:0===t.code?200:t.code,msg:t.msg,results:t.data},e}});var h=a(65457),f=a(94679),k=a(14152),y=a.n(k),_=(a(91296),a(46446));const S=y().ExampleRoutes,P=e=>{let{preset:t,themeToken:a,...n}=e;return(0,m.jsx)(f.HashRouter,{children:(0,m.jsx)(S,{...n,paths:[{key:"components",path:"/",title:"\u9996\u9875"}],preset:t,themeToken:a,readme:_.default,pageProps:{menu:null}})})};h.createRoot(document.getElementById("root")).render((0,m.jsx)(r().StrictMode,{children:(0,m.jsx)(P,{preset:{ajax:g},themeToken:{colorPrimary:"#4F185A"}})}))}}]);
//# sourceMappingURL=414.4a3f62fa.chunk.js.map