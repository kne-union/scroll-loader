(self.webpackChunk_kne_components_scroll_loader=self.webpackChunk_kne_components_scroll_loader||[]).push([[414],{25764:e=>{function a(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}a.keys=()=>[],a.resolve=a,a.id=25764,e.exports=a},69666:(e,a,n)=>{"use strict";n.d(a,{A:()=>l});var t=n(96210),r=(n(72241),n(16052)),o=n(94530);const l={name:"scroll-loader",summary:'<h1>scroll-loader</h1>\n<h3>\u63cf\u8ff0</h3>\n<p>\u6eda\u52a8\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e.</p>\n<h3>\u5b89\u88c5</h3>\n<pre><code class="language-shell">npm i --save @kne/scroll-loader\n</code></pre>',description:"\u6eda\u52a8\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e.",packageName:"@kne/scroll-loader",api:"<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>",example:{isFull:!1,className:"scroll_loader_f2ee2",style:".scroll_loader_f2ee2 .scroll-list {\n  max-height: 300px;\n}",list:[{title:"ScrollLoader",description:"\u6eda\u52a8\u5230\u5e95\u540e\u81ea\u52a8\u52a0\u8f7d\u4e0b\u4e00\u9875\u6570\u636e",code:"const { get, merge, range } = lodash;\nconst { default: Fetch } = _reactFetch;\nconst { default: ScrollLoader } = _ScrollLoader;\n\nconst BaseExample = () => {\n  return (<Fetch\n    loader={({ data }) => {\n      const params = Object.assign({\n        perPage: 20, currentPage: 1\n      }, data);\n      return new Promise((resolve) => {\n        const start = (params.currentPage - 1) * params.perPage;\n        setTimeout(() => {\n          resolve({\n            totalCount: 100, pageData: range(start, start + params.perPage).map((key) => {\n              return {\n                label: `\u7b2c${key + 1}\u9879`, value: key + 1\n              };\n            })\n          });\n        }, 500);\n      });\n    }}\n    render={(fetchApi) => {\n      const pagination = {\n        paramsType: 'data', current: 'currentPage', pageSize: 'perPage', defaultPageSize: 20\n      };\n      const current = get(fetchApi.requestParams, [pagination.paramsType, pagination.current], 1),\n        pageSize = get(fetchApi.requestParams, [pagination.paramsType, pagination.pageSize]) || pagination.defaultPageSize;\n\n      const formatData = {\n        list: fetchApi.data.pageData, total: fetchApi.data.totalCount\n      };\n      return (<ScrollLoader\n        className=\"scroll-list\"\n        isLoading={!fetchApi.isComplete}\n        noMore={!formatData.total || current * pageSize >= formatData.total}\n        onLoader={async () => {\n          await fetchApi.loadMore(merge({\n            data: {\n              [pagination.pageSize]: pageSize, [pagination.current]: current + 1\n            }\n          }), (data, newData) => {\n            return Object.assign({}, newData, {\n              pageData: data.pageData.concat(newData.pageData)\n            });\n          });\n        }}\n      >\n        {formatData.list.map((item) => {\n          return <div key={item.value}>{item.label}</div>;\n        })}\n      </ScrollLoader>);\n    }}\n  />);\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"_ScrollLoader",packageName:"@kne/current-lib_scroll-loader",importStatement:'import * as _ScrollLoader from "@kne/scroll-loader"',component:t},{name:"_reactFetch",packageName:"@kne/react-fetch",component:r},{name:"lodash",packageName:"lodash",component:o}]},{title:"FetchScrollLoader",description:"\u5c01\u88c5\u4e86\u6570\u636e\u83b7\u53d6",code:'const { get, merge, range } = lodash;\nconst { FetchScrollLoader } = _ScrollLoader;\n\nconst BaseExample = () => {\n  return <FetchScrollLoader className="scroll-list" api={{\n    loader: ({ data }) => {\n      const params = Object.assign({\n        perPage: 20, currentPage: 1\n      }, data);\n      return new Promise((resolve) => {\n        const start = (params.currentPage - 1) * params.perPage;\n        setTimeout(() => {\n          resolve({\n            totalCount: 100, pageData: range(start, start + params.perPage).map((key) => {\n              return {\n                label: `\u7b2c${key + 1}\u9879`, value: key + 1\n              };\n            })\n          });\n        }, 500);\n      });\n    }\n  }}>{({ list }) => {\n    return list.map((item) => {\n      return <div key={item.value}>{item.label}</div>;\n    });\n  }}</FetchScrollLoader>;\n};\n\nrender(<BaseExample />);\n\n',scope:[{name:"_ScrollLoader",packageName:"@kne/current-lib_scroll-loader",importStatement:'import * as _ScrollLoader from "@kne/scroll-loader"',component:t},{name:"lodash",packageName:"lodash",component:o}]}]}}},11448:(e,a,n)=>{"use strict";var t=n(89379),r=n(94922),o=n.n(r),l=n(87558),s=n(55199),c=n(89946),p=n.n(c),d=n(13050),m=n(1488),i=n.n(m),u=n(89261);window.PUBLIC_URL="/scroll-loader";const g={url:"https://uc.fatalent.cn",tpl:"{{url}}/packages/@kne-components/{{remote}}/{{version}}/build"},h=(0,t.A)((0,t.A)({},g),{},{remote:"components-core",defaultVersion:"0.3.0"});(0,d.preset)({remotes:{default:h,"components-core":h,"components-iconfont":(0,t.A)((0,t.A)({},g),{},{remote:"components-iconfont",defaultVersion:"0.1.8"}),"scroll-loader":(0,t.A)((0,t.A)({},g),{},{remote:"scroll-loader",defaultVersion:"0.1.8"})}});const f=(()=>{const e=p().create({validateStatus:function(){return!0}});return a=>a.hasOwnProperty("loader")&&"function"===typeof a.loader?Promise.resolve(a.loader(i()(a,["loader"]))).then((e=>({data:{code:0,data:e}}))).catch((e=>(s.message.error(e.message||"\u8bf7\u6c42\u53d1\u751f\u9519\u8bef"),{data:{code:500,msg:e.message}}))):e(a)})();(0,l.preset)({ajax:f,loading:(0,u.jsx)(s.Spin,{delay:500,style:{position:"absolute",left:"50%",padding:"10px",transform:"translateX(-50%)"}}),error:null,empty:(0,u.jsx)(s.Empty,{}),transformResponse:e=>{const{data:a}=e;return e.data={code:0===a.code?200:a.code,msg:a.msg,results:a.data},e}});var k=n(65457),S=n(53986),y=n(94679),_=n(14152),P=n.n(_),v=(n(91296),n(46446));const L=["preset","themeToken"],x=P().ExampleRoutes,A=e=>{let{preset:a,themeToken:n}=e,r=(0,S.A)(e,L);return(0,u.jsx)(y.HashRouter,{children:(0,u.jsx)(x,(0,t.A)((0,t.A)({},r),{},{paths:[{key:"components",path:"/",title:"\u9996\u9875"}],preset:a,themeToken:n,readme:v.default,pageProps:{menu:null}}))})};k.createRoot(document.getElementById("root")).render((0,u.jsx)(o().StrictMode,{children:(0,u.jsx)(A,{preset:{ajax:f},themeToken:{colorPrimary:"#4F185A"}})}))},72241:()=>{}}]);
//# sourceMappingURL=414.df3717e4.chunk.js.map