"use strict";(self.webpackChunk_kne_components_scroll_loader=self.webpackChunk_kne_components_scroll_loader||[]).push([[35],{71830:(e,l,t)=>{t.r(l),t.d(l,{default:()=>p});var o=t(94922),n=t.n(o),r=t(55199),c=t(20046),a=(t(1251),t(98424)),s=t(78678),i=t(54159),u=t.n(i),m={tips:"_s57kM"};const d=e=>{let{getScrollerRef:l,loadMore:t,maxFullCount:n}=e;const r=(0,s.A)(t),c=(0,s.A)(l);return(0,o.useEffect)((()=>{let e=n;const l=c(),t=async()=>{l.clientHeight===l.scrollHeight&&e>0&&(await r().then((()=>new Promise((e=>{setTimeout(e,500)})))),e--,await t())};t()}),[n,r,c]),null},p=(0,o.forwardRef)(((e,l)=>{const t=Object.assign({},{loadComplete:"\u52a0\u8f7d\u5b8c\u6210"},e.locale),{className:i,noMore:p,onLoader:f,isLoading:g,completeTips:h,maxFullCount:_,children:C}=Object.assign({},{maxFullCount:3,completeTips:t.loadComplete},e,{locale:t}),E=(0,o.useRef)(),k=(0,s.A)(f),v=(0,o.useRef)(!p&&!g);v.current=!p&&!g,(0,o.useImperativeHandle)(l,(()=>E.current),[]);const w=(0,a.dh)((e=>{const l=e.target;v.current&&l.clientHeight+l.scrollTop+20>l.scrollHeight&&k()}),100);return n().createElement(c.A,{className:u()("load-container",i),scrollableNodeProps:{ref:E,onScroll:w}},!g&&!p&&n().createElement(d,{maxFullCount:_,getScrollerRef:()=>E.current,loadMore:k}),n().createElement(r.Space,{direction:"vertical"},n().createElement("div",null,C),g?n().createElement("div",{className:m["scroller-no-more"]},n().createElement(r.Spin,{size:"small"})):null,p&&h?n().createElement("div",{className:m["scroller-no-more"]},h):null))}))}}]);
//# sourceMappingURL=35.148e9503.chunk.js.map